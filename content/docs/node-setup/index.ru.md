---
title: "Запуск узла"
weight: 9
---

Это руководство охватывает настройку и запуск полного узла блокчейна TALER.

## Что такое узел TALER?

Узел TALER - это полноценный участник сети блокчейна, который:

- **Проверяет транзакции**: Проверяет все транзакции согласно правилам консенсуса
- **Поддерживает блокчейн**: Хранит полную историю транзакций
- **Передает данные**: Пересылает действительные транзакции и блоки другим узлам
- **Поддерживает сеть**: Способствует децентрализации и безопасности сети
- **Включает майнинг/стейкинг**: Позволяет участвовать в генерации блоков

Запуск узла помогает обеспечить безопасность сети TALER и дает вам полный контроль над взаимодействием с блокчейном.

---

## Способы запуска узла TALER

Вы можете запустить узел TALER несколькими способами в зависимости от ваших потребностей:

### 1. GUI кошелек (taler-qt) - Для пользователей рабочего стола

**Лучше всего для**: Личного использования, управления кошельком и обычного стейкинга

Запустите графическое приложение кошелька `taler-qt` на вашем настольном компьютере:
- Полный GUI интерфейс для управления кошельком
- Встроенный узел, который синхронизируется с блокчейном
- Простая настройка для начинающих
- Подходит для персональных компьютеров

**Держите кошелек работающим 24/7** для непрерывной работы узла и стейкинга.

**Узнать больше**: [Руководство по настройке кошелька](/en/docs/wallet-setup/)

---

### 2. Командная строка (talerd) - Для развертывания на сервере

**Лучше всего для**: Выделенных серверов, VPS, безголовых систем

Запустите демон `talerd` на сервере без GUI:
- Настройка через конфигурационный файл `taler.conf`
- Запуск на локальном компьютере или VPS
- Меньшее использование ресурсов (без GUI)
- Удаленное управление через RPC

**Узнать больше**: [Документация по командной строке (talerd)](/en/docs/node-cli/)

---

### 3. Сервис Systemd - Для Linux серверов (Рекомендуется для VPS)

**Лучше всего для**: Производственного развертывания VPS, автоматического запуска

Запустите `talerd` как системный сервис:
- Автоматический запуск при загрузке
- Управление процессом systemd
- Надзор за сервисом и перезапуск при сбое
- Управление журналами
- Профессиональная настройка сервера

**Узнать больше**: [Конфигурация Systemd](/en/docs/node-cli/#run-as-background-service) в руководстве Node CLI

---

### 4. Docker Compose - Для контейнеризированного развертывания (Рекомендуется для VPS)

**Лучше всего для**: Простых обновлений, воспроизводимых развертываний, хостинга VPS

Запустите узел TALER в Docker контейнере:
- Простые обновления: `docker compose pull && docker compose up -d`
- Изолированная среда
- Воспроизводимая конфигурация
- Упрощенное резервное копирование и миграция
- Нет конфликтов зависимостей

**Узнать больше**: [Руководство по развертыванию Docker](/en/docs/node-docker/)

---

## Выбор правильного метода

| Метод | Лучший случай использования | Сложность | Обновления |
|-------|----------------------------|-----------|------------|
| **taler-qt (GUI)** | Личный рабочий стол, кошелек + узел | Легко | Ручная загрузка |
| **talerd (CLI)** | Сервер, VPS, безголовый | Средне | Ручная загрузка |
| **Сервис Systemd** | Производственный VPS | Средне | Ручная загрузка |
| **Docker Compose** | Производственный VPS, простые обновления | Легко | `docker compose pull` |

**Рекомендация**:
- **Пользователи рабочего стола**: Используйте GUI кошелек taler-qt
- **Пользователи VPS/Сервера**: Используйте Docker Compose для самого простого управления
- **Продвинутые пользователи**: Используйте сервис systemd для полного контроля

---

## Предварительные требования

Перед запуском узла TALER убедитесь, что ваша система соответствует этим требованиям:

### Требования к оборудованию

- **CPU**: Рекомендуется 2+ ядра (4+ ядра для майнинга)
- **RAM**: Минимум 4GB (рекомендуется 8GB+)
- **Дисковое пространство**:
  - Полный узел: 20GB+ (блокчейн растет со временем)
  - Обрезанный узел: 2GB+ (с опцией `-prune`)
- **Сеть**: Стабильное интернет-соединение с минимум 1 Мбит/с загрузка/скачивание

### Требования к программному обеспечению

- **Операционная система**: Windows 10/11, macOS (Apple Silicon) или Linux (x64/ARM64)
- **Доступ к порту**: Порт 23153 (mainnet) должен быть доступен для входящих соединений

---

## Загрузка программного обеспечения узла TALER

### Шаг 1: Посетите официальную страницу релизов

Загрузите последнее программное обеспечение узла TALER из официального репозитория GitHub:

**Последний релиз**: [v0.18.44.7](https://github.com/abkvme/taler/releases/tag/v0.18.44.7)

### Шаг 2: Выберите вашу платформу

Выберите подходящий пакет для вашей операционной системы:

| Платформа | Файл | Описание |
|-----------|------|----------|
| **Windows (64-bit)** | `taler-v0.18.44.7-win64.zip` | Бинарники Windows 10/11 |
| **macOS (M1/M2/M3+)** | `taler-v0.18.44.7-macos-arm64.tar.gz` | Нативная сборка Apple Silicon |
| **Linux (64-bit)** | `taler-v0.18.44.7-linux-x64.tar.gz` | Бинарники Linux x86_64 |
| **Linux (ARM64)** | `taler-v0.18.44.7-linux-arm64.tar.gz` | Бинарники ARM64/aarch64 |

---

## Установка

### Установка Windows

1. **Извлеките архив**:
   - Щелкните правой кнопкой мыши `taler-v0.18.44.7-win64.zip`
   - Выберите "Извлечь все..."
   - Выберите папку назначения (например, `C:\TALER`)

2. **Найдите демон**:
   - Перейдите в извлеченную папку
   - Найдите `talerd.exe` (демон узла)

### Установка macOS

1. **Извлеките архив**:
   ```bash
   tar -xzvf taler-v0.18.44.7-macos-arm64.tar.gz
   cd taler-v0.18.44.7
   ```

2. **Установите в систему** (опционально):
   ```bash
   sudo mv bin/* /usr/local/bin/
   sudo chmod +x /usr/local/bin/talerd
   ```

3. **Или запустите из извлеченной директории**:
   ```bash
   chmod +x bin/talerd
   ./bin/talerd
   ```

### Установка Linux

1. **Извлеките архив**:
   ```bash
   tar -xzvf taler-v0.18.44.7-linux-x64.tar.gz
   cd taler-v0.18.44.7
   ```

2. **Установите в систему** (опционально):
   ```bash
   sudo install -m 0755 -o root -g root -t /usr/local/bin bin/*
   ```

3. **Или запустите из извлеченной директории**:
   ```bash
   chmod +x bin/talerd
   ./bin/talerd
   ```

---

## Запуск вашего узла

### Базовый запуск узла

**Windows**:
```cmd
talerd.exe
```

**macOS / Linux**:
```bash
talerd
```

При первом запуске `talerd`:
1. Создаст директорию данных (если она не существует)
2. Подключится к сети TALER
3. Начнет загрузку блокчейна
4. Начнет проверку и передачу транзакций

### Расположение директории данных

По умолчанию TALER хранит данные блокчейна в:

- **Windows**: `%APPDATA%\TALER\`
- **macOS**: `~/Taler/`
- **Linux**: `~/.taler/`

---

## Общие конфигурации узла

### Пользовательская директория данных

Укажите пользовательское расположение для данных блокчейна:

```bash
talerd -datadir=/путь/к/пользовательской/директории
```

### Обрезанный узел (Уменьшенное использование диска)

Запустите обрезанный узел для экономии дискового пространства (хранит только последние блоки):

```bash
talerd -prune=2000
```

Это сохраняет приблизительно 2GB данных блокчейна вместо полной цепи.

### Узел тестовой сети

Запустите узел в тестовой сети для разработки:

```bash
talerd -testnet
```

### Разрешить входящие соединения

Чтобы максимизировать поддержку сети, разрешите входящие соединения:

```bash
talerd -listen=1 -maxconnections=128
```

Убедитесь, что порт 23153 открыт в вашем брандмауэре.

---

## Мониторинг вашего узла

### Проверка статуса узла

Используйте `taler-cli` для проверки статуса вашего узла:

```bash
taler-cli getinfo
```

Это отображает:
- Текущую высоту блока
- Количество соединений
- Хешрейт сети
- Баланс кошелька (если кошелек загружен)

### Просмотр количества соединений

```bash
taler-cli getconnectioncount
```

### Проверка прогресса синхронизации блокчейна

```bash
taler-cli getblockchaininfo
```

Показывает:
- Текущий блок против высоты сети
- Процент прогресса проверки
- Размер цепи на диске

### Мониторинг журналов

**Linux/macOS**:
```bash
tail -f ~/.taler/debug.log
```

**Windows**:
```cmd
type %APPDATA%\TALER\debug.log
```

---

## Сетевые порты

### Mainnet

- **P2P сеть**: 23153 (TCP)
- **RPC порт**: 23152 (только localhost по умолчанию)

### Testnet

- **P2P сеть**: 33153 (TCP)
- **RPC порт**: 33152 (только localhost по умолчанию)

Чтобы принимать входящие соединения, убедитесь, что порт 23153 (mainnet) или 33153 (testnet) доступен через ваш брандмауэр.

---

## Остановка вашего узла

### Корректное завершение работы

Используйте `taler-cli` для чистого завершения:

```bash
taler-cli stop
```

Это обеспечивает:
- Правильное закрытие базы данных
- Чистое завершение соединений
- Отсутствие повреждения блокчейна

### Принудительная остановка (Не рекомендуется)

Если `taler-cli stop` не работает:

**Linux/macOS**:
```bash
killall talerd
```

**Windows**:
```cmd
taskkill /IM talerd.exe
```

**Примечание**: Принудительная остановка может потребовать переиндексации при следующем запуске.

---

## Конфигурационный файл

Создайте `taler.conf` в вашей директории данных для постоянных настроек:

**Пример taler.conf**:
```ini
# Сетевые настройки
listen=1
maxconnections=128
port=23153

# RPC настройки
server=1
rpcuser=ваше_имя_пользователя
rpcpassword=ваш_пароль
rpcport=23152
rpcallowip=127.0.0.1

# Производительность
dbcache=1024
maxmempool=300

# Обрезка (опционально)
prune=2000
```

**Расположение**:
- **Windows**: `%APPDATA%\TALER\taler.conf`
- **macOS**: `~/Taler/taler.conf`
- **Linux**: `~/.taler/taler.conf`

---

## Следующие шаги

- **Командная строка**: Узнайте о расширенных опциях `talerd` в руководстве [Node CLI](/en/docs/node-cli/)
- **Развертывание Docker**: Запустите узел TALER в контейнерах с [Docker](/en/docs/node-docker/)
- **Майнинг и стейкинг**: Участвуйте в генерации блоков в [Mining & Staking](/en/docs/node-mining/)
