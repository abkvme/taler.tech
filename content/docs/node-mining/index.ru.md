---
title: "Майнинг и стейкинг"
weight: 5
---

Это руководство описывает, как получать вознаграждения TALER через стейкинг Proof-of-Stake (PoS) с использованием GUI кошелька.

## Понимание консенсуса TALER

TALER использует гибридный механизм консенсуса Proof-of-Work (PoW) и Proof-of-Stake (PoS):

- **Proof-of-Work (PoW)**: Майнеры генерируют блоки с использованием вычислительной мощности
- **Proof-of-Stake (PoS)**: Держатели монет стейкают свои монеты для генерации блоков

**Это руководство сосредоточено на PoS стейкинге**, который является рекомендуемым методом для большинства пользователей, так как он:
- Не требует специализированного оборудования
- Потребляет минимум электроэнергии
- Позволяет получать пассивные вознаграждения на ваши существующие холдинги TALER
- Помогает защищать сеть

---

## Что такое PoS стейкинг?

### Как работает стейкинг

Proof-of-Stake позволяет вам зарабатывать вознаграждения, держа монеты TALER в вашем кошельке. Вместо использования вычислительной мощности, как в PoW майнинге, PoS использует:

- **Возраст монет**: Как долго вы держите монеты
- **Количество монет**: Сколько монет вы держите
- **Вероятность**: Старые и большие суммы имеют более высокую вероятность стейкинга

Когда ваши монеты успешно стейкаются, вы создаете новый блок и получаете:
- **Вознаграждение за блок**: Базовое PoS вознаграждение (30% от текущей субсидии PoW блока)
- **Комиссии за транзакции**: Все комиссии от транзакций в вашем блоке

### Требования для стейкинга

Для стейкинга монет TALER вам необходимо:

1. **Минимальная сумма**: Минимум 10 TLR на один вход монет
2. **Минимальный возраст**: Монеты должны созреть в течение 48 часов после получения
3. **Зашифрованный кошелёк**: Кошелёк должен быть зашифрован для безопасности
4. **Разблокированный кошелёк**: Кошелёк должен быть разблокирован для стейкинга
5. **Работающий кошелёк**: taler-qt должен быть запущен и синхронизирован

**Важно**: Монеты с менее чем 10 TLR не могут стейкаться. Монеты становятся доступными для стейкинга через 48 часов после их получения и подтверждения.

---

## Настройка PoS стейкинга

### Шаг 1: Зашифровать ваш кошелёк

**Почему сначала шифровать?**
- Стейкинг требует зашифрованного кошелька
- Защищает ваши средства от несанкционированного доступа
- Лучшая практика безопасности перед стейкингом

**Как зашифровать**:

1. **Откройте кошелёк taler-qt**
2. **Перейдите в меню Settings**
3. **Нажмите "Encrypt Wallet"**
4. **Введите сильную парольную фразу**
   - Рекомендуется минимум 20+ символов
   - Смесь букв, цифр, символов
   - Запишите её надёжно - **вы не можете восстановить забытые парольные фразы**
5. **Подтвердите парольную фразу**
6. **Дождитесь завершения шифрования**

Кошелёк перезапустится после шифрования.

**Уже зашифрован?** Переходите к шагу 2.

### Шаг 2: Пополнить ваш кошелёк

Для стейкинга вам нужны монеты TALER в вашем кошельке:

1. **Сгенерируйте адрес получения** во вкладке Receive
2. **Переведите TALER** в ваш кошелёк с биржи или другого кошелька
3. **Дождитесь подтверждений** (рекомендуется 6+)
4. **Подождите 48 часов**, пока монеты созреют

Ваши монеты должны созревать в течение 48 часов, прежде чем они станут доступными для стейкинга.

### Шаг 3: Открыть консоль отладки

Консоль отладки позволяет вам выполнять команды для управления стейкингом.

**Для доступа к консоли отладки**:

1. **Откройте кошелёк taler-qt**
2. **Перейдите в меню Help**
3. **Нажмите "Debug Window"**
4. **Выберите вкладку "Console"**

Вы увидите интерфейс командной строки, где можно вводить RPC команды.

### Шаг 4: Разблокировать кошелёк для стейкинга

Чтобы включить стейкинг, вы должны разблокировать ваш зашифрованный кошелёк с помощью консоли.

**Команда**:
```
walletpassphrase "your-passphrase" timeout
```

**Параметры**:
- `"your-passphrase"`: Ваша парольная фраза шифрования кошелька (в кавычках)
- `timeout`: Количество секунд для поддержания кошелька разблокированным

**Примеры**:

```
walletpassphrase "MySecurePassphrase123!" 2592000
```
Это разблокирует кошелёк на 2,592,000 секунд (30 дней).

```
walletpassphrase "MySecurePassphrase123!" 31536000
```
Это разблокирует кошелёк на 31,536,000 секунд (1 год).

**Руководство по таймауту**:
- **Краткосрочный**: 86400 (1 день)
- **Среднесрочный**: 2592000 (30 дней)
- **Долгосрочный**: 31536000 (1 год)
- **Максимум**: 100000000 (~3.17 года)

**После разблокировки**:
- Стейкинг начинается автоматически
- Кошелёк автоматически заблокируется после истечения таймаута
- Вам нужно будет разблокировать снова для продолжения стейкинга после таймаута

---

## Мониторинг вашего стейкинга

### Проверка статуса кошелька

Чтобы проверить, что ваш кошелёк разблокирован и готов к стейкингу:

**Команда**:
```
getwalletinfo
```

**Важные поля**:
- `"unlocked_until"`: Временная метка, когда кошелёк заблокируется снова (0 = заблокирован)
- `"balance"`: Ваш доступный баланс
- `"immature_balance"`: Ожидающие вознаграждения за стейкинг (нужны подтверждения)

**Пример вывода**:
```json
{
  "walletname": "",
  "walletversion": 169900,
  "balance": 1000.00000000,
  "immature_balance": 2.10000000,
  "unlocked_until": 1748362000,
  ...
}
```

Если `unlocked_until` равно 0, ваш кошелёк заблокирован - разблокируйте его снова с помощью `walletpassphrase`.

### Проверка доступных монет для стейкинга

Чтобы увидеть, какие монеты доступны для стейкинга:

**Команда**:
```
listunspent
```

Это показывает все неизрасходованные монеты в вашем кошельке с:
- `amount`: Значение монеты
- `confirmations`: Количество подтверждений
- `spendable`: Может ли монета быть потрачена/застейкана

**Подходящие для стейкинга**:
- Amount >= 10 TLR
- Confirmations >= 288 блоков (~48 часов при 60-секундных блоках для PoW)
- Spendable = true

### Понимание возраста монет

**Возраст монет определяет вес стейкинга**:

- **Минимальный возраст**: 48 часов (монеты становятся доступными)
- **Максимальный возраст**: 90 дней (монеты достигают максимального веса)
- **Тик возраста**: 1 день (вес увеличивается ежедневно)

**Как это работает**:
- День 0-2: Не подходят для стейкинга
- День 2-90: Вес стейкинга увеличивается ежедневно
- День 90+: Достигнут максимальный вес (дальнейшего увеличения нет)

Чем дольше вы держите монеты без траты, тем выше ваша вероятность стейкинга.

---

## Вознаграждения за стейкинг

### Расчёт вознаграждения

Вознаграждения за PoS стейкинг основаны на:

1. **Возраст монет**: Как долго вы держали монеты (в монето-днях)
2. **Количество монет**: Сколько монет вы стейкаете
3. **Субсидия блока**: Текущее PoS вознаграждение за блок (30% от PoW субсидии)
4. **Сетевой запас**: Общий запас TALER

**Формула**:
```
Вознаграждение = (Возраст монет × Годовая ставка монет) + Комиссии за транзакции
```

Вознаграждение рассчитывается автоматически, когда вы успешно стейкаете блок.

### Ожидаемая доходность

**Типичные вознаграждения за стейкинг**:
- Базовое PoS вознаграждение за блок: 2.1 TLR (30% от 7 TLR PoW блока)
- Плюс комиссии за транзакции из блока
- Скорректированные с учетом возраста монет и сетевых условий

**Частота стейкинга**:
- Зависит от количества и возраста ваших монет
- Большие холдинги стейкаются чаще
- Сложность сети влияет на всех стейкеров одинаково

**Пример**:
- 1,000 TLR застейкано
- 90 дней возраста (максимальный вес)
- Может стейкаться каждые несколько дней или недель
- Каждый стейк приносит ~2.1 TLR базового вознаграждения

### Когда появляются вознаграждения

**После стейкинга блока**:

1. **Немедленно**: Вознаграждение появляется в "Immature Balance"
2. **Созревание**: Требует 288 подтверждений (~48 часов)
3. **Доступно**: После созревания переходит в доступный баланс
4. **Новый возраст**: Недавно застейканные монеты сбрасываются до 0 возраста, должны созревать 48 часов снова

Проверьте вкладку **Transactions**, чтобы увидеть вознаграждения за стейкинг, отмеченные как "Mined" или "Generated".

---

## Лучшие практики стейкинга

### Поддерживайте кошелёк работающим

**Стейкинг требует, чтобы ваш кошелёк работал**:
- Кошелёк должен быть открыт и синхронизирован
- Кошелёк должен оставаться разблокированным
- Компьютер должен оставаться включенным (или используйте выделенную ноду для стейкинга)

**Советы**:
- Отключите заставку/режим сна
- Рассмотрите запуск на выделенном оборудовании
- Используйте VPS или компьютер с постоянной работой для круглосуточного стейкинга

### Оптимальная настройка стейкинга

**Для лучших результатов**:

1. **Поддерживайте синхронизацию кошелька**: Убедитесь, что блокчейн полностью синхронизирован
2. **Поддерживайте соединение**: Требуется стабильное интернет-соединение
3. **Консолидируйте малые суммы**: Объедините малые монеты в большие (по 10+ TLR каждая)
4. **Длинный таймаут разблокировки**: Используйте таймаут 30+ дней, чтобы избежать частой повторной разблокировки
5. **Регулярные резервные копии**: Делайте резервные копии wallet.dat до и после получения вознаграждений

### Управление монетами

**Управление вашими стейкинг монетами**:

- **Не тратьте недавно застейканные монеты**: Дайте им созреть для лучших вознаграждений
- **Консолидируйте при необходимости**: Объединяйте малые UTXO в большие
- **Резервируйте некоторые ликвидные монеты**: Держите некоторые монеты для трат, другие для стейкинга
- **Мониторьте созревание**: Проверяйте незрелый баланс на ожидающие вознаграждения

### Безопасность при стейкинге

**Важные практики безопасности**:

- **Требуется зашифрованный кошелёк**: Никогда не стейкайте с незашифрованным кошельком
- **Сильная парольная фраза**: Используйте 20+ символьную парольную фразу
- **Защищенная система**: Убедитесь, что компьютер свободен от вредоносных программ
- **Регулярное резервное копирование**: Делайте резервные копии wallet.dat после получения вознаграждений
- **Ограничьте удаленный доступ**: Не выставляйте RPC в публичный интернет
- **Мониторьте активность**: Регулярно проверяйте транзакции на аномалии

---

## Устранение неполадок стейкинга

### Кошелёк не стейкается

**Проблема**: Монеты не стейкаются, нет вознаграждений

**Проверьте**:

1. **Кошелёк зашифрован?**
   ```
   getwalletinfo
   ```
   Ищите `"walletversion"` - должен быть зашифрован

2. **Кошелёк разблокирован?**
   ```
   getwalletinfo
   ```
   Проверьте `"unlocked_until"` - должна быть будущая временная метка, а не 0

3. **Монеты соответствуют требованиям?**
   ```
   listunspent
   ```
   - Каждая монета >= 10 TLR?
   - Confirmations >= 288?
   - Возраст >= 48 часов?

4. **Кошелёк синхронизирован?**
   ```
   getblockchaininfo
   ```
   Проверьте, равно ли `"blocks"` `"headers"`

**Решения**:
- Разблокируйте кошелёк: `walletpassphrase "passphrase" 2592000`
- Дождитесь созревания монет (48 часов)
- Убедитесь, что кошелёк полностью синхронизирован
- Проверьте, что у вас есть подходящие монеты (>= 10 TLR каждая)

### Кошелёк неожиданно заблокировался

**Проблема**: Кошелёк заблокировался, стейкинг остановлен

**Причина**: Истёк таймаут разблокировки

**Решение**:
```
walletpassphrase "your-passphrase" 2592000
```

Установите более длинный таймаут, чтобы избежать частой повторной блокировки.

### Низкая частота стейкинга

**Проблема**: Редкий стейкинг блоков

**Причины**:
- Малые суммы монет (< 100 TLR)
- Молодой возраст монет (< 7 дней)
- Высокая сетевая сложность

**Решения**:
- **Накопите больше монет**: Больше монет = выше вероятность
- **Подождите возраста**: Монеты набирают вес в течение 90 дней
- **Консолидируйте входы**: Объедините малые суммы в большие
- **Будьте терпеливы**: Стейкинг вероятностный, может занять время

### Незрелый баланс не подтверждается

**Проблема**: Незрелый баланс застрял

**Причина**: PoS вознаграждения требуют 288 подтверждений (~48 часов)

**Решение**: Подождите подтверждений. Проверьте:
```
getblockchaininfo
```

Если блокчейн синхронизирован и движется, незрелый баланс в конечном итоге созреет.

---

## Продвинутый стейкинг

### Стейкинг через командную строку

Для продвинутых пользователей, запускающих `talerd` (демон без GUI):

**Запустить talerd с включенным стейкингом**:
```bash
talerd -stakegen=1
```

**Разблокировать кошелёк**:
```bash
taler-cli walletpassphrase "your-passphrase" 2592000
```

**Мониторинг стейкинга**:
```bash
taler-cli getwalletinfo
taler-cli listunspent
```

### Файл конфигурации

Создайте `taler.conf` в вашем каталоге данных:

**Windows**: `%APPDATA%\TALER\taler.conf`
**macOS**: `~/Taler/taler.conf`
**Linux**: `~/.taler/taler.conf`

**Пример конфигурации для стейкинга**:
```ini
# Включить PoS стейкинг (по умолчанию: 1)
stakegen=1

# RPC для удаленного управления (опционально)
server=1
rpcuser=stakinguser
rpcpassword=your_secure_rpc_password
rpcallowip=127.0.0.1

# Сеть
listen=1
maxconnections=128
```

### Выделенная нода для стейкинга

Для серьёзных стейкеров, запустите выделенную ноду для стейкинга:

1. **Используйте выделенное оборудование**: VPS, Raspberry Pi, или постоянно работающий ПК
2. **Установите TALER**: Следуйте руководству [Node Setup](/en/docs/node-setup/)
3. **Синхронизируйте блокчейн**: Дождитесь полной синхронизации
4. **Переведите стейкинг монеты**: Отправьте монеты в кошелёк ноды
5. **Разблокируйте кошелёк**: Используйте длинный таймаут (месяцы/годы)
6. **Удаленный мониторинг**: Используйте RPC для проверки статуса

**Преимущества**:
- Круглосуточный стейкинг без необходимости держать личный компьютер включенным
- Более высокое время работы = больше возможностей стейкинга
- Сниженные затраты на электроэнергию (по сравнению с майнингом)
- Более надёжный стейкинг

---

## Понимание PoS vs PoW

### Сравнение

| Характеристика | Proof-of-Stake (PoS) | Proof-of-Work (PoW) |
|---------|----------------------|---------------------|
| **Оборудование** | Обычный компьютер | Специализированное оборудование для майнинга |
| **Энергия** | Очень низкая | Очень высокая |
| **Барьер входа** | Минимум 10 TLR | Дорогие ASIC майнеры |
| **Вознаграждения** | 2.1 TLR за блок | 4.9 TLR за блок |
| **Время блока** | ~140 секунд | ~60 секунд |
| **Рекомендуется для** | Большинства пользователей | Профессиональных майнеров |

### Почему рекомендуется PoS

**Для индивидуальных пользователей**:
- Не требуется дорогое оборудование
- Получайте пассивные вознаграждения на холдинги
- Помогает защищать сеть
- Низкое потребление энергии
- Можно запустить на личном компьютере

**Экологические преимущества**:
- Минимальное использование электроэнергии
- Нет электронных отходов от устаревших ASIC
- Устойчиво в долгосрочной перспективе

---

## Экономика стейкинга

### Сетевое распределение

Вознаграждения за блоки TALER разделены:
- **70% PoW майнерам**: 4.9 TLR за блок
- **30% PoS стейкерам**: 2.1 TLR за блок

### Долгосрочная стратегия

**Стейкинг как инвестиция**:
1. **Приобретите TALER**: Купите на биржах или заработайте через работу
2. **Держите в кошельке**: Переведите в личный кошелёк
3. **Включите стейкинг**: Зашифруйте и разблокируйте кошелёк
4. **Реинвестируйте вознаграждения**: Стейкайте заработанные вознаграждения для усложнения
5. **Долгосрочный рост**: Пользуйтесь преимуществами возраста монет и усложнения

**Эффект усложнения**:
- Вознаграждения за стейкинг автоматически становятся стейкаемыми через 48 часов
- Больший баланс = более частый стейкинг
- Вознаграждения добавляются к балансу, увеличивая будущие вознаграждения
- Усложнение увеличивает холдинги со временем

---

## Часто задаваемые вопросы

### Блокирует ли стейкинг мои монеты?

**Нет**. Монеты не заблокированы во время стейкинга. Вы можете потратить их в любое время, но:
- Трата сбрасывает возраст монеты до 0
- Вы теряете накопленный вес стейкинга
- Монетам нужны ещё 48 часов для повторного стейкинга

### Могу ли я стейкать из нескольких кошельков?

**Да**. Каждый кошелёк стейкает независимо. Вы можете:
- Запускать несколько экземпляров кошелька на разных компьютерах
- Разделить монеты между кошельками для избыточности
- Каждый кошелёк конкурирует за блоки независимо

### Нужно ли держать кошелёк открытым 24/7?

**Для лучших результатов, да**. Стейкинг требует:
- Работающий и синхронизированный кошелёк
- Разблокированный кошелёк
- Активное интернет-соединение

Больше времени работы = больше возможностей стейкинга.

### Что произойдёт, если я пропущу возможность стейкинга?

**Ничего плохого**. Стейкинг вероятностный:
- У вас будет ещё один шанс в следующем блоке
- Пропущенные возможности не штрафуют вас
- Возраст монеты продолжает накапливаться
- Просто держите кошелёк работающим и разблокированным

### Могу ли я потерять деньги при стейкинге?

**Нет риска потери монет** через сам стейкинг. Однако:
- Риски компьютерной безопасности (вредоносное ПО, кража)
- Забытая парольная фраза = потеря доступа
- Нет гарантий вознаграждений (вероятностно)

---

## Следующие шаги

- **Изучите безопасность**: Просмотрите [Лучшие практики безопасности](/en/docs/security/)
- **Мониторинг транзакций**: Отслеживайте вознаграждения в [Отправка и получение](/en/docs/sending-receiving/)
- **Поддержка сообщества**: Получите помощь в [Каналах сообщества](/en/links/)

**Начните стейкать сегодня и помогите защитить сеть TALER, получая вознаграждения!**
